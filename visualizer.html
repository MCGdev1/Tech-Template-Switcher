<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3D Monorepo Visualizer | Premium Edition | Luxe</title>
  <link rel="icon" type="image/png" href="favicon.png">
  <meta property="og:image" content="og-image.png">
  <meta property="og:title" content="3D Monorepo Visualizer | Premium Edition | Luxe">
  <meta name="description"
    content="Explore your monorepo architecture in a stunning 3D interactive environment. Visualize dependencies, analyze complexity, and optimize your codebase.">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
    rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="visualizer.css">
</head>

<body class="visualizer-page">
  <div class="animated-bg">
    <div class="lava-blob"></div>
  </div>

  <!-- Navigation -->
  <div id="navbar-placeholder"></div>

  <!-- Visualizer Interface -->
  <div class="visualizer-container">
    <!-- Sidebar -->
    <aside class="viz-sidebar" aria-label="Statistics and packages">
      <div class="hud-card">
        <div class="hud-title">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            style="margin-right: 8px;">
            <line x1="18" y1="20" x2="18" y2="10"></line>
            <line x1="12" y1="20" x2="12" y2="4"></line>
            <line x1="6" y1="20" x2="6" y2="14"></line>
          </svg> OVERVIEW
        </div>
        <div class="hud-stats-grid">
          <div class="hud-stat-box">
            <div class="hud-stat-val">47</div>
            <div class="hud-stat-label">Packages</div>
          </div>
          <div class="hud-stat-box">
            <div class="hud-stat-val">234</div>
            <div class="hud-stat-label">Deps</div>
          </div>
          <div class="hud-stat-box">
            <div class="hud-stat-val">89%</div>
            <div class="hud-stat-label">Health</div>
          </div>
          <div class="hud-stat-box">
            <div class="hud-stat-val">12</div>
            <div class="hud-stat-label">Cycles</div>
          </div>
        </div>
      </div>

      <div class="hud-card">
        <div class="hud-title">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            style="margin-right: 8px;">
            <path
              d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z">
            </path>
            <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
            <line x1="12" y1="22.08" x2="12" y2="12"></line>
          </svg> PACKAGES
        </div>
        <div class="package-list" id="packageList">
          <!-- Dynamic Content -->
        </div>
      </div>

      <div class="hud-card">
        <div class="hud-title">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            style="margin-right: 8px;">
            <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
          </svg> QUICK ACTIONS
        </div>
        <div style="display: flex; flex-direction: column; gap: 0.5rem;">
          <button class="pkg-item" style="border: 1px solid rgba(16, 185, 129, 0.2);">
            <span class="pkg-icon" style="background: rgba(16, 185, 129, 0.2); color: #10B981;">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
              </svg>
            </span>
            <span class="pkg-info">
              <span class="pkg-name">Deep Scan</span>
              <span class="pkg-meta">Analyze all relations</span>
            </span>
          </button>
          <button class="pkg-item" style="border: 1px solid rgba(139, 92, 246, 0.2);">
            <span class="pkg-icon" style="background: rgba(139, 92, 246, 0.2); color: #8B5CF6;">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"></path>
              </svg>
            </span>
            <span class="pkg-info">
              <span class="pkg-name">Find Cycles</span>
              <span class="pkg-meta">Detect circular deps</span>
            </span>
          </button>
        </div>
      </div>
    </aside>

    <!-- Main Viewport -->
    <main class="viz-main">
      <canvas id="visualization"></canvas>

      <!-- Physics Panel Overlay -->
      <div class="physics-hud hud-card">
        <div class="hud-title" style="margin-bottom: 0.75rem;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            style="margin-right: 8px;">
            <circle cx="12" cy="12" r="3"></circle>
            <path
              d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
            </path>
          </svg> PHYSICS
        </div>
        <div class="physics-control">
          <div class="range-label">
            <span>Gravity</span>
            <span id="gravityValue">0.3</span>
          </div>
          <input type="range" class="input-range" id="gravitySlider" min="0" max="1" step="0.1" value="0.3">
        </div>
        <div class="physics-control" style="margin-top: 0.75rem;">
          <div class="range-label">
            <span>Repulsion</span>
            <span id="repulsionValue">100</span>
          </div>
          <input type="range" class="input-range" id="repulsionSlider" min="50" max="200" step="10" value="100">
        </div>
        <div class="physics-control" style="margin-top: 0.75rem;">
          <div class="range-label">
            <span>Link Force</span>
            <span id="linkValue">0.5</span>
          </div>
          <input type="range" class="input-range" id="linkSlider" min="0" max="1" step="0.1" value="0.5">
        </div>
      </div>

      <!-- Floating Controls -->
      <div class="viz-controls">
        <button class="ctrl-btn" id="resetView" title="Reset Camera">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8" />
            <path d="M3 3v5h5" />
          </svg>
        </button>
        <button class="ctrl-btn" id="toggleRotation" title="Auto Rotate">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2" />
          </svg>
        </button>
        <button class="ctrl-btn" id="togglePhysics" title="Togge Physics Engine">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10" />
            <circle cx="12" cy="12" r="4" />
            <path d="M12 2v4M12 18v4M2 12h4M18 12h4" />
          </svg>
        </button>
        <div style="width: 1px; background: var(--border-color); margin: 0 4px;"></div>
        <div style="display: flex; align-items: center; gap: 8px; padding: 0 8px;">
          <input type="range" class="input-range" id="zoomSlider" min="20" max="200" value="100" style="width: 80px;">
          <span style="font-size: 10px; color: var(--text-dim); min-width: 30px;" id="zoomValue">100%</span>
        </div>
      </div>

      <div id="legend"
        style="position: absolute; top: 2rem; right: 2rem; display: flex; flex-direction: column; gap: 0.5rem; z-index: 20;">
        <!-- Legend Content -->
      </div>
    </main>

    <!-- Right Detail Panel -->
    <aside class="viz-right-panel">
      <div class="detail-focus" id="detailPanel">
        <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem;">
          <div id="detailIcon"
            style="width: 50px; height: 50px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path
                d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z">
              </path>
              <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
              <line x1="12" y1="22.08" x2="12" y2="12"></line>
            </svg>
          </div>
          <div>
            <div id="detailName" style="font-family: var(--font-display); font-size: 1.1rem; color: var(--text-white);">
              @core/package</div>
            <div id="detailType"
              style="font-size: 0.75rem; color: var(--primary-color); letter-spacing: 0.1em; text-transform: uppercase;">
              Standard Package</div>
          </div>
        </div>
        <div class="hud-stats-grid" style="margin-bottom: 1.5rem;">
          <div class="hud-stat-box">
            <div id="metricDeps" class="hud-stat-val" style="font-size: 1.25rem;">0</div>
            <div class="hud-stat-label">Deps</div>
          </div>
          <div class="hud-stat-box">
            <div id="metricDependents" class="hud-stat-val" style="font-size: 1.25rem;">0</div>
            <div class="hud-stat-label">Used In</div>
          </div>
          <div class="hud-stat-box" style="grid-column: span 2;">
            <div id="metricSize" class="hud-stat-val" style="font-size: 1.25rem;">0 KB</div>
            <div class="hud-stat-label">Bundle Size</div>
          </div>
        </div>
        <div class="dependencies-list" id="dependenciesList"
          style="display: flex; flex-direction: column; gap: 0.5rem;">
          <!-- Dependencies rows -->
        </div>
      </div>

      <div class="hud-card">
        <div class="hud-title">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            style="margin-right: 8px;">
            <circle cx="12" cy="12" r="10"></circle>
            <polyline points="12 6 12 12 16 14"></polyline>
          </svg> RECENT ACTIVITY
        </div>
        <div id="activityFeed" style="display: flex; flex-direction: column; gap: 1rem;">
          <!-- Activity items -->
        </div>
      </div>
    </aside>
  </div>

  <!-- Interactive Tooltips -->
  <div class="node-popup" id="nodePopup">
    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
      <div id="popupIcon"
        style="width: 40px; height: 40px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 1.25rem;">
      </div>
      <div>
        <div id="popupTitle" style="font-weight: 700; color: white;">Package Name</div>
        <div id="popupSubtitle" style="font-size: 12px; color: var(--text-dim);">Category</div>
      </div>
    </div>
    <div class="hud-stats-grid">
      <div class="hud-stat-box">
        <div id="popupDeps" style="font-family: var(--font-display); color: var(--primary-color);">0</div>
        <div style="font-size: 9px; color: var(--text-dim);">DEPS</div>
      </div>
      <div class="hud-stat-box">
        <div id="popupDependents" style="font-family: var(--font-display); color: var(--primary-color);">0</div>
        <div style="font-size: 9px; color: var(--text-dim);">USERS</div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="visualizer.js"></script>

  <!-- Footer Attribution -->
  <div id="footer-placeholder"></div>
  <script src="app.js"></script>
</body>

</html>